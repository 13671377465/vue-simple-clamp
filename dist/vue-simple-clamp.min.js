!function(t,n){"object"==typeof exports&&"undefined"!=typeof module?module.exports=n():"function"==typeof define&&define.amd?define(n):(t=t||self).clamp=n()}(this,function(){"use strict";function p(t){return(p="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t})(t)}function c(t){return null!=t&&"object"===p(t)&&!0===t["@@functional/placeholder"]}function o(e){return function t(n){return 0===arguments.length||c(n)?t:e.apply(this,arguments)}}function n(r){return function t(n,e){switch(arguments.length){case 0:return t;case 1:return c(n)?t:o(function(t){return r(n,t)});default:return c(n)&&c(e)?t:c(n)?o(function(t){return r(t,e)}):c(e)?o(function(t){return r(n,t)}):r(n,e)}}}function l(t,f){switch(t){case 0:return function(){return f.apply(this,arguments)};case 1:return function(t){return f.apply(this,arguments)};case 2:return function(t,n){return f.apply(this,arguments)};case 3:return function(t,n,e){return f.apply(this,arguments)};case 4:return function(t,n,e,r){return f.apply(this,arguments)};case 5:return function(t,n,e,r,u){return f.apply(this,arguments)};case 6:return function(t,n,e,r,u,i){return f.apply(this,arguments)};case 7:return function(t,n,e,r,u,i,o){return f.apply(this,arguments)};case 8:return function(t,n,e,r,u,i,o,a){return f.apply(this,arguments)};case 9:return function(t,n,e,r,u,i,o,a,c){return f.apply(this,arguments)};case 10:return function(t,n,e,r,u,i,o,a,c,l){return f.apply(this,arguments)};default:throw new Error("First argument to _arity must be a non-negative integer no greater than ten")}}function f(i,o,a){return function(){for(var t=[],n=0,e=i,r=0;r<o.length||n<arguments.length;){var u;r<o.length&&(!c(o[r])||n>=arguments.length)?u=o[r]:(u=arguments[n],n+=1),c(t[r]=u)||(e-=1),r+=1}return e<=0?a.apply(this,t):l(e,f(i,t,a))}}var u=n(function(t,n){return 1===t?o(n):l(t,f(t,[],n))});function t(i){return function t(e,r,u){switch(arguments.length){case 0:return t;case 1:return c(e)?t:n(function(t,n){return i(e,t,n)});case 2:return c(e)&&c(r)?t:c(e)?n(function(t,n){return i(t,r,n)}):c(r)?n(function(t,n){return i(e,t,n)}):o(function(t){return i(e,r,t)});default:return c(e)&&c(r)&&c(u)?t:c(e)&&c(r)?n(function(t,n){return i(t,n,u)}):c(e)&&c(u)?n(function(t,n){return i(t,r,n)}):c(r)&&c(u)?n(function(t,n){return i(e,t,n)}):c(e)?o(function(t){return i(t,r,u)}):c(r)?o(function(t){return i(e,t,u)}):c(u)?o(function(t){return i(e,r,t)}):i(e,r,u)}}}var a=Array.isArray||function(t){return null!=t&&0<=t.length&&"[object Array]"===Object.prototype.toString.call(t)};function e(u,i,o){return function(){if(0===arguments.length)return o();var t,n=Array.prototype.slice.call(arguments,0),e=n.pop();if(!a(e)){for(var r=0;r<u.length;){if("function"==typeof e[u[r]])return e[u[r]].apply(e,n);r+=1}if(null!=(t=e)&&"function"==typeof t["@@transducer/step"])return i.apply(null,n)(e)}return o.apply(this,arguments)}}var r={init:function(){return this.xf["@@transducer/init"]()},result:function(t){return this.xf["@@transducer/result"](t)}},i=n(function(t,n){return t<n?n:t});function s(t,n){for(var e=0,r=n.length,u=Array(r);e<r;)u[e]=t(n[e]),e+=1;return u}function y(t){return"[object String]"===Object.prototype.toString.call(t)}var h=o(function(t){return!!a(t)||!!t&&("object"===p(t)&&(!y(t)&&(1===t.nodeType?!!t.length:0===t.length||0<t.length&&(t.hasOwnProperty(0)&&t.hasOwnProperty(t.length-1)))))}),g=function(){function t(t){this.f=t}return t.prototype["@@transducer/init"]=function(){throw new Error("init not implemented on XWrap")},t.prototype["@@transducer/result"]=function(t){return t},t.prototype["@@transducer/step"]=function(t,n){return this.f(t,n)},t}();function d(t){return new g(t)}var v=n(function(t,n){return l(t.length,function(){return t.apply(n,arguments)})});function b(t,n,e){for(var r=e.next();!r.done;){if((n=t["@@transducer/step"](n,r.value))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}r=e.next()}return t["@@transducer/result"](n)}function m(t,n,e,r){return t["@@transducer/result"](e[r](v(t["@@transducer/step"],t),n))}var j="undefined"!=typeof Symbol?Symbol.iterator:"@@iterator";function O(t,n,e){if("function"==typeof t&&(t=d(t)),h(e))return function(t,n,e){for(var r=0,u=e.length;r<u;){if((n=t["@@transducer/step"](n,e[r]))&&n["@@transducer/reduced"]){n=n["@@transducer/value"];break}r+=1}return t["@@transducer/result"](n)}(t,n,e);if("function"==typeof e["fantasy-land/reduce"])return m(t,n,e,"fantasy-land/reduce");if(null!=e[j])return b(t,n,e[j]());if("function"==typeof e.next)return b(t,n,e);if("function"==typeof e.reduce)return m(t,n,e,"reduce");throw new TypeError("reduce: list must be array or iterable")}function w(t,n){return Object.prototype.hasOwnProperty.call(n,t)}var C=Object.prototype.toString,S=function(){return"[object Arguments]"===C.call(arguments)?function(t){return"[object Arguments]"===C.call(t)}:function(t){return w("callee",t)}}(),x=!{toString:null}.propertyIsEnumerable("toString"),A=["constructor","valueOf","isPrototypeOf","toString","propertyIsEnumerable","hasOwnProperty","toLocaleString"],T=function(){return arguments.propertyIsEnumerable("length")}(),E=function(t,n){for(var e=0;e<t.length;){if(t[e]===n)return!0;e+=1}return!1},k="function"!=typeof Object.keys||T?o(function(t){if(Object(t)!==t)return[];var n,e,r=[],u=T&&S(t);for(n in t)!w(n,t)||u&&"length"===n||(r[r.length]=n);if(x)for(e=A.length-1;0<=e;)w(n=A[e],t)&&!E(r,n)&&(r[r.length]=n),e-=1;return r}):o(function(t){return Object(t)!==t?[]:Object.keys(t)}),q=t(O);var M=o(function(t){return u(t.length,t)});var N=o(function(t){return null===t?"Null":void 0===t?"Undefined":Object.prototype.toString.call(t).slice(8,-1)});function U(t,n){return function(){return n.call(this,t.apply(this,arguments))}}function H(e,r){return function(){var t=arguments.length;if(0===t)return r();var n=arguments[t-1];return a(n)||"function"!=typeof n[e]?r.apply(this,arguments):n[e].apply(n,Array.prototype.slice.call(arguments,0,t-1))}}var L=t(H("slice",function(t,n,e){return Array.prototype.slice.call(e,t,n)})),I=o(H("tail",L(1,1/0)));var V=o(function(t){return y(t)?t.split("").reverse().join(""):Array.prototype.slice.call(t,0).reverse()});function F(){if(0===arguments.length)throw new Error("compose requires at least one argument");return function(){if(0===arguments.length)throw new Error("pipe requires at least one argument");return l(arguments[0].length,q(U,arguments[0],I(arguments)))}.apply(this,V(arguments))}function P(t){return t}var R=o(P);function z(t){for(var n,e=[];!(n=t.next()).done;)e.push(n.value);return e}function B(t,n,e){for(var r=0,u=e.length;r<u;){if(t(n,e[r]))return!0;r+=1}return!1}var D="function"==typeof Object.is?Object.is:function(t,n){return t===n?0!==t||1/t==1/n:t!=t&&n!=n};function $(t,n,e,r){var u=z(t);function i(t,n){return W(t,n,e.slice(),r.slice())}return!B(function(t,n){return!B(i,n,t)},z(n),u)}function W(t,n,e,r){if(D(t,n))return!0;var u,i,o=N(t);if(o!==N(n))return!1;if(null==t||null==n)return!1;if("function"==typeof t["fantasy-land/equals"]||"function"==typeof n["fantasy-land/equals"])return"function"==typeof t["fantasy-land/equals"]&&t["fantasy-land/equals"](n)&&"function"==typeof n["fantasy-land/equals"]&&n["fantasy-land/equals"](t);if("function"==typeof t.equals||"function"==typeof n.equals)return"function"==typeof t.equals&&t.equals(n)&&"function"==typeof n.equals&&n.equals(t);switch(o){case"Arguments":case"Array":case"Object":if("function"==typeof t.constructor&&"Promise"===(u=t.constructor,null==(i=String(u).match(/^function (\w*)/))?"":i[1]))return t===n;break;case"Boolean":case"Number":case"String":if(p(t)!==p(n)||!D(t.valueOf(),n.valueOf()))return!1;break;case"Date":if(!D(t.valueOf(),n.valueOf()))return!1;break;case"Error":return t.name===n.name&&t.message===n.message;case"RegExp":if(t.source!==n.source||t.global!==n.global||t.ignoreCase!==n.ignoreCase||t.multiline!==n.multiline||t.sticky!==n.sticky||t.unicode!==n.unicode)return!1}for(var a=e.length-1;0<=a;){if(e[a]===t)return r[a]===n;a-=1}switch(o){case"Map":return t.size===n.size&&$(t.entries(),n.entries(),e.concat([t]),r.concat([n]));case"Set":return t.size===n.size&&$(t.values(),n.values(),e.concat([t]),r.concat([n]));case"Arguments":case"Array":case"Object":case"Boolean":case"Number":case"String":case"Date":case"Error":case"RegExp":case"Int8Array":case"Uint8Array":case"Uint8ClampedArray":case"Int16Array":case"Uint16Array":case"Int32Array":case"Uint32Array":case"Float32Array":case"Float64Array":case"ArrayBuffer":break;default:return!1}var c=k(t);if(c.length!==k(n).length)return!1;var l=e.concat([t]),f=r.concat([n]);for(a=c.length-1;0<=a;){var s=c[a];if(!w(s,n)||!W(n[s],t[s],l,f))return!1;a-=1}return!0}var X=n(function(t,n){return W(t,n,[],[])});function Y(t,n){return 0<=function(t,n,e){var r,u;if("function"==typeof t.indexOf)switch(p(n)){case"number":if(0===n){for(r=1/n;e<t.length;){if(0===(u=t[e])&&1/u===r)return e;e+=1}return-1}if(n==n)return t.indexOf(n,e);for(;e<t.length;){if("number"==typeof(u=t[e])&&u!=u)return e;e+=1}return-1;case"string":case"boolean":case"function":case"undefined":return t.indexOf(n,e);case"object":if(null===n)return t.indexOf(n,e)}for(;e<t.length;){if(X(t[e],n))return e;e+=1}return-1}(n,t,0)}function Z(t){return'"'+t.replace(/\\/g,"\\\\").replace(/[\b]/g,"\\b").replace(/\f/g,"\\f").replace(/\n/g,"\\n").replace(/\r/g,"\\r").replace(/\t/g,"\\t").replace(/\v/g,"\\v").replace(/\0/g,"\\0").replace(/"/g,'\\"')+'"'}var _=function(t){return(t<10?"0":"")+t},G="function"==typeof Date.prototype.toISOString?function(t){return t.toISOString()}:function(t){return t.getUTCFullYear()+"-"+_(t.getUTCMonth()+1)+"-"+_(t.getUTCDate())+"T"+_(t.getUTCHours())+":"+_(t.getUTCMinutes())+":"+_(t.getUTCSeconds())+"."+(t.getUTCMilliseconds()/1e3).toFixed(3).slice(2,5)+"Z"};var J=function(){function t(t,n){this.xf=n,this.f=t}return t.prototype["@@transducer/init"]=r.init,t.prototype["@@transducer/result"]=r.result,t.prototype["@@transducer/step"]=function(t,n){return this.f(n)?this.xf["@@transducer/step"](t,n):t},t}(),K=n(e(["filter"],n(function(t,n){return new J(t,n)}),function(e,r){return t=r,"[object Object]"===Object.prototype.toString.call(t)?O(function(t,n){return e(r[n])&&(t[n]=r[n]),t},{},k(r)):function(t,n){for(var e=0,r=n.length,u=[];e<r;)t(n[e])&&(u[u.length]=n[e]),e+=1;return u}(e,r);var t})),Q=n(function(t,n){return K((e=t,function(){return!e.apply(this,arguments)}),n);var e});var tt=o(function(t){return function e(r,u){var i=function(t){var n=u.concat([r]);return Y(t,n)?"<Circular>":e(t,n)},t=function(n,t){return s(function(t){return Z(t)+": "+i(n[t])},t.slice().sort())};switch(Object.prototype.toString.call(r)){case"[object Arguments]":return"(function() { return arguments; }("+s(i,r).join(", ")+"))";case"[object Array]":return"["+s(i,r).concat(t(r,Q(function(t){return/^\d+$/.test(t)},k(r)))).join(", ")+"]";case"[object Boolean]":return"object"===p(r)?"new Boolean("+i(r.valueOf())+")":r.toString();case"[object Date]":return"new Date("+(isNaN(r.valueOf())?i(NaN):Z(G(r)))+")";case"[object Null]":return"null";case"[object Number]":return"object"===p(r)?"new Number("+i(r.valueOf())+")":1/r==-1/0?"-0":r.toString(10);case"[object String]":return"object"===p(r)?"new String("+i(r.valueOf())+")":Z(r);case"[object Undefined]":return"undefined";default:if("function"==typeof r.toString){var n=r.toString();if("[object Object]"!==n)return n}return"{"+t(r,k(r)).join(", ")+"}"}}(t,[])}),nt=n(function(t,n){return null==n||n!=n?t:n});var et=n(function(t,n){return t/n}),rt=n(function(t,n){if(0===t.length)return!1;for(var e=n,r=0;r<t.length;){if(!w(t[r],e))return!1;e=e[t[r]],r+=1}return!0}),ut=n(function(t,n){return rt([t],n)}),it=t(function(t,n,e){return u(Math.max(t.length,n.length,e.length),function(){return t.apply(this,arguments)?n.apply(this,arguments):e.apply(this,arguments)})}),ot=n(function(e,r){return u(e+1,function(){var t,n=arguments[e];if(null!=n&&(t=n[r],"[object Function]"===Object.prototype.toString.call(t)))return n[r].apply(n,Array.prototype.slice.call(arguments,0,e));throw new TypeError(tt(n)+' does not have a method named "'+r+'"')})}),at=n(function(t,n){return t*n});var ct=t(function(t,n,e){return e.replace(t,n)});var lt=n(function(t,n){if(e=t,"[object RegExp]"!==Object.prototype.toString.call(e))throw new TypeError("‘test’ requires a value of type RegExp as its first argument; received "+tt(t));var e,r;return(r=t,new RegExp(r.source,(r.global?"g":"")+(r.ignoreCase?"i":"")+(r.multiline?"m":"")+(r.sticky?"y":"")+(r.unicode?"u":""))).test(n)}),ft=ot(0,"toUpperCase"),st="\t\n\v\f\r   ᠎             　\u2028\u2029\ufeff",pt=(o("function"==typeof String.prototype.trim&&!st.trim()&&"​".trim()?function(t){return t.trim()}:function(t){var n=new RegExp("^["+st+"]["+st+"]*"),e=new RegExp("["+st+"]["+st+"]*$");return t.replace(n,"").replace(e,"")}),it(X("float"),function(){return"styleFloat"},R)),yt=/(\-([a-z]){1})/g,ht=it(lt(yt),ct(yt,function(){return ft(arguments.length<=2?void 0:arguments[2])}),R),gt=function(t,n){var e=F(ht,pt)(n);return t.currentStyle&&t.currentStyle[e]?t.currentStyle[e]:null},dt=it(function(){return ut("getComputedStyle",window)},F(function(t){return t.getPropertyValue.bind(t)},function(t){return window.getComputedStyle(t,null)}),function(){for(var t=arguments.length,n=new Array(t),e=0;e<t;e++)n[e]=arguments[e];return M(gt)(n)});function vt(t){var n=dt(t),e=n("line-height");return X(e,"normal")?at(parseInt(n("font-size")),1.4):parseInt(e)}function bt(t,n){var e=F(Math.floor,et),r=nt(t.clientHeight)(n),u=vt(t);return i(0,e(r,u))}function mt(u,t){var i,o={clamp:(t=t||{}).clamp||2,useNativeClamp:void 0===t.useNativeClamp||t.useNativeClamp,splitOnChars:t.splitOnChars||[".","-","–","—"," "],animate:t.animate||!1,truncationChar:t.truncationChar||"…",truncationHTML:t.truncationHTML},n=u.style,e=u.innerHTML,r=void 0!==u.style.webkitLineClamp,a=o.clamp,c=a.indexOf&&(-1<a.indexOf("px")||-1<a.indexOf("em"));o.truncationHTML&&((i=document.createElement("span")).innerHTML=o.truncationHTML);var l,f,s,p,y=o.splitOnChars.slice(0),h=y[0];function g(t,n,e){t.nodeValue=n+e.truncationChar}function d(t){return t.lastChild.children&&0<t.lastChild.children.length?d(Array.prototype.slice.call(t.children).pop()):t.lastChild&&t.lastChild.nodeValue&&""!=t.lastChild.nodeValue&&t.lastChild.nodeValue!=o.truncationChar?t.lastChild:(t.lastChild.parentNode.removeChild(t.lastChild),d(u))}if("auto"==a?a=bt(u):c&&(a=bt(u,parseInt(a))),r&&o.useNativeClamp)n.overflow="hidden",n.textOverflow="ellipsis",n.webkitBoxOrient="vertical",n.display="-webkit-box",n.webkitLineClamp=a,c&&(n.height=o.clamp+"px");else{var v=(p=a,at(vt(u),p));v<=u.clientHeight&&(s=function t(n,e){if(e){var r=n.nodeValue.replace(o.truncationChar,"");if(l||(h=0<y.length?y.shift():"",l=r.split(h)),1<l.length?(f=l.pop(),g(n,l.join(h),o)):l=null,i&&(n.nodeValue=n.nodeValue.replace(o.truncationChar,""),u.innerHTML=n.nodeValue+" "+i.innerHTML+o.truncationChar),l){if(u.clientHeight<=e){if(!(0<=y.length&&""!=h))return u.innerHTML;g(n,l.join(h)+h+f,o),l=null}}else""==h&&(g(n,"",o),n=d(u),y=o.splitOnChars.slice(0),h=y[0],f=l=null);if(!o.animate)return t(n,e);setTimeout(function(){t(n,e)},!0===o.animate?10:o.animate)}}(d(u),v))}return{original:e,clamped:s}}var jt=function(t,n){mt(t,n.value)},Ot={install:function(t){t.directive("clamp",{inserted:jt,componentUpdated:jt})}};return Ot});
